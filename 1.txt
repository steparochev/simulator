class C
{
    static void Main() // Объявляет статический метод Main, который является точкой входа в программу.  "static" означает, что метод принадлежит классу, а не экземпляру класса.  "void" означает, что метод ничего не возвращает.
    {
        try // Начинает блок try-catch, который позволяет перехватывать исключения (ошибки), возникающие во время выполнения кода.
        {

            string input = Console.ReadLine()!.Replace(" ", ""); // Считывает строку из консоли, удаляет пробелы и передает строку в метод Calc, выводя результат в консоль.
            Console.WriteLine(Calc(input));
        }
        catch (Exception e) // "e" - это переменная, содержащая информацию об исключении.
        {
            Console.WriteLine("Ошибка: " + e.Message);
        }
    }

    static double Calc(string s) // Объявляет статический метод Calc, который принимает строку (математическое выражение) и возвращает double (результат вычисления).
    {
        int p = s.IndexOf('+');
        // s.IndexOf('+'):  Возвращает индекс первого вхождения символа '+' в строку s. Если символ не найден, возвращает -1.  Аналогично для других операторов.
        if (p > 0) return Parse(s.Substring(0, p)) + Parse(s.Substring(p + 1)); // Если найден оператор +, вычисляет сумму двух чисел, разделенных этим оператором.  ючая p).                                                       
        {
            double divisor = Parse(s.Substring(p + 1));
            return Parse(s.Substring(0, p)) / divisor; // Вычисляет частное и возвращает результат.
        }

    }

    static double Parse(string s) // Объявляет статический метод Parse, который принимает строку и пытается преобразовать ее в double.
    {
        return double.TryParse(s, out double r) ? r : throw new ArgumentException("Некорректный формат: " + s); // Пытается преобразовать строку в double и возвращает результат, либо выбрасывает исключение, если преобразование не удалось.
        // double.TryParse(s, out double r):  Пытается преобразовать строку s в double и сохранить результат в переменной r (если преобразование успешно).  Возвращает true, если преобразование успешно, и false в противном случае.
        // out double r:  "out" означает, что метод Parse должен присвоить значение переменной r.
        // ?: - тернарный оператор:  Если double.TryParse вернул true, возвращает r.  В противном случае выбрасывает исключение ArgumentException.
        // throw new ArgumentException(...):  Создает новый объект исключения ArgumentException, указывая, что аргумент (в данном случае, строка s) имеет некорректный формат.
    }
}
